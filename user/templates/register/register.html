{% extends "base.html" %}
{% load static %}

{% block title %}
	회원가입
{% endblock %}]

{% block css_files %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/register.css' %}">
{% endblock %}

{% block js_files %}
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="{% static 'js/register.js' %}"></script>
{% endblock %}

{% block content %}
<div class="wrap">
    <div class="login-logo-wrap">
        <a class="login-logo" href="{% url 'calorie:home' %}"><img src="{%static 'image/horizontal_logo.png' %}"></a>
        <p class="hello-main">
            <strong>안녕하세요. 푸디핏 입니다.</strong>
        </p>
    </div>

	<div class="signinrequired_cont">
		<!-- 파일도 form에서 다룰수 있게 해준다. enctype="multipart/form-data" -->
		<form method="POST" enctype="multipart/form-data">
			{% csrf_token %}

			<div class="signinrequired">
				<h3 class="sign_tit">필수정보</h3>
				<label class="sign_label">성</label>
				<span class="sign_input">{{ signup_form.first_name }}</span>
				
				<label class="sign_label">이름</label>
				<span class="sign_input">{{ signup_form.last_name }}</span>
				
				<label class="sign_label">아이디</label>

				<span class="input_btngroup">
					<span class="sign_input">{{ signup_form.username }}</span> 									
					<button type="submit" name="auth" class="auth_userid" formnovalidate>중복체크</button>
					
					{% if user_msg %}
					<p class="mini_msg">{{ user_msg }}</p>
					{% endif %}
				</span>
				<label class="sign_label">비밀번호</label>
				<span class="sign_input">{{ signup_form.password1 }}</span>
				
				<label class="sign_label">비밀번호확인</label>
				<span class="sign_input">{{ signup_form.password2 }}</span>
				
				<label class="sign_label">프로필사진</label>
				<span class="sign_input">{{ profile_form.profile_img }}</span>
				<br>
				<p id="message"></p>
				<br>

				<label class="sign_label">이메일</label>		
				<span class="input_btngroup">
					<span class="sign_input">{{ signup_form.email }}</span> 
					<button type="submit" class="sendvalicode">인증코드 발송</button>
				</span>
				<p class="noti_msg">이메일 형식: sesac@coding.com</p>	
				
				
				<label class="sign_label">인증 코드 입력</label>
				<span class="input_btngroup">
					<span class="sign_input"><input type="text" name="emailcheck" class="getvalidcode"></span>
					<button type="submit" class="checkvalidcode">인증코드 확인</button>
				</span>
				
				<label class="sign_label">생년월일</label>
				<span class="sign_input">{{ signup_form.birth_date }}</span>

				<label class="sign_label">휴대폰 번호</label>
				<span class="sign_input">{{ signup_form.phone_number }}</span>

				<label class="sign_label">우편번호</label>				
				<span class="input_btngroup">
				</span>

				<span class="input_btngroup">
					<span class="sign_input">{{ address_form.postal_code }}</span> 
					<button onclick="execDaumPostcode();">우편번호 찾기</button>
				</span>

				<label class="sign_label">주소</label>
				<span class="sign_input">{{ address_form.city }}</span>

				<label class="sign_label">상세 주소</label>
				<span class="sign_input">{{ address_form.address }}</span>
			</div>

			<div class="useragreement">
				<p>* 필수 개인정보 제공 동의 여부</p>				
				<span class="radio_box">{{ agree_form.must_agree }}</span>
			</div>


			<div class="signinoptional">
				<h3 class="sign_tit">선택정보</h3>

				<div class="noti_box">
					<p>건강정보제공 서비스를 위한 선택 정보</p>
					<p>해당 내용은 회원가입 후, 마이페이지에서도 입력하실 수 있습니다.</p>
				</div>

				<label class="sign_label">성별</label>
				<span class="sign_selcet">{{ option_form.gender }}</span>

				<label  class="sign_label" for="userheight">키</label>
				<span class="sign_input">{{ option_form.height }}</span>

				<label  class="sign_label" for="userweight">몸무게</label>
				<span class="sign_input">{{ option_form.weight }}</span>

				<div class="useragreement">
					<p>* 선택 개인정보 제공 동의 여부</p>
					<span class="radio_box">{{ agree_form.option_agree }}</span>
				</div>
				
			</div>
			<button class="sign_btn" type="submit">가입하기</button>
		</form>
	</div>

</div>

{% endblock %}